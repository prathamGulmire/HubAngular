
<h2>Assign Courses</h2>

<div class="content-block dx-card responsive-paddings">
    <dx-select-box
        class="student-select-box"
        [dataSource]="studentList"
        [displayExpr]="displayStudent"
        valueExpr="id"
        width="200"
        placeholder="Select Student"
        [(value)]="selectedStudentId"
        [searchEnabled]="true"
        searchMode="contains"
        [searchExpr]="['id', 'firstName', 'lastName']"
        (onValueChanged)="onStudentChanged($event)">
    </dx-select-box>

    <dx-data-grid
        class="courseTable"
        [dataSource]="courseList"
        keyExpr="courseId"
        [showBorders]="true"
        [selection]="{ mode: 'multiple' }"
        [selectedRowKeys]="selectedCourseIds"
        [disabled]="!selectedStudentId"
        (onSelectionChanged)="onCourseSelectionChanged($event)"
    >

        <dxi-column dataField="courseCode" caption="Code"></dxi-column>
        <dxi-column dataField="courseName" caption="Course Name"></dxi-column>
        <dxi-column dataField="durationMonths" caption="Duration (Months)"></dxi-column>

    </dx-data-grid>

    <div class="assignButton">
        <dx-button
            text="Assign Courses"
            type="success"
            icon="check"
            [disabled]="!selectedStudentId || !selectedCourseIds.length"
            (onClick)="assignCourses()">
        </dx-button>
    </div>
</div>
