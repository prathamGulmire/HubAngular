<h2>Unassign Courses</h2>

<div class="content-block dx-card responsive-paddings">

  <!-- Student selection -->
  <dx-select-box
    class="stud-select-box"
    width="200"
    [dataSource]="studentList"
    displayExpr="firstName"
    valueExpr="id"
    placeholder="Select Student"
    [(value)]="selectedStudentId"
    (onValueChanged)="onStudentChanged($event)">
  </dx-select-box>

  <!-- Assigned courses -->
  <dx-data-grid
    class="course-table"
    [dataSource]="assignedCourses"
    keyExpr="courseId"
    [showBorders]="true"
    [selection]="{ mode: 'multiple' }"
    [(selectedRowKeys)]="selectedCourseIds"
    [disabled]="!selectedStudentId">

    <dxi-column dataField="courseCode" caption="Code"></dxi-column>
    <dxi-column dataField="courseName" caption="Course Name"></dxi-column>
    <dxi-column dataField="durationMonths" caption="Duration (Months)"></dxi-column>

  </dx-data-grid>

  <!-- Action -->
  <div class="unassign-button">
    <dx-button
      class="mt-3"
      text="Unassign Selected Courses"
      type="danger"
      icon="trash"
      [disabled]="!selectedCourseIds.length"
      (onClick)="unassignCourses()">
    </dx-button>
  </div>
</div>
