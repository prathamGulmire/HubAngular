<h2>Home</h2>
<div class="content-block">
  <div class="dx-card responsive-paddings">
    <h4>Fill the details to add student record respectively!</h4>
  </div>
</div>

<div class="content-block dx-card responsive-paddings">
  <dx-form
    id="userForm"
    #myForm
    [formData]="formData"
    labelLocation="top"
    [colCountByScreen]="{
      xs: 1,
      sm: 2,
      md: 2,
      lg: 3
    }"
  >

    <dxi-item
      dataField="firstName"
      editorType="dxTextBox"
      [editorOptions]="{ placeholder: 'Enter first name' }">

      <dxi-validation-rule type="required" message="First name is required"></dxi-validation-rule>      
    </dxi-item>

    <dxi-item
      dataField="middleName"
      editorType="dxTextBox"
      [editorOptions]="{ placeholder: 'Enter middle name' }">

    </dxi-item>

    <dxi-item
      dataField="lastName"
      editorType="dxTextBox"
      [editorOptions]="{ placeholder: 'Enter last name' }">
          
      <dxi-validation-rule type="required" message="Last name is required"></dxi-validation-rule>
    </dxi-item>

    <dxi-item
      dataField="email"
      editorType="dxTextBox"
      [editorOptions]="{
        mode: 'email',
        placeholder: 'Enter email'
      }">
      <dxi-validation-rule type="required" message="Email is required"></dxi-validation-rule>
      <dxi-validation-rule type="email" message="Invalid email"></dxi-validation-rule>
    </dxi-item>

    <dxi-item
      dataField="gender"
      editorType="dxSelectBox"
      [editorOptions]="{
        items: genders,
        placeholder: 'Select gender'
      }">
      <dxi-validation-rule type="required" message="Gender is required"></dxi-validation-rule>
    </dxi-item>

    <dxi-item
      dataField="dateOfBirth"
      editorType="dxDateBox"
      [editorOptions]="{
        type: 'date',
        displayFormat: 'dd/MM/yyyy'
      }">
       <dxi-validation-rule type="required" message="Date of birth is required"></dxi-validation-rule>
    </dxi-item>

    <dxi-item
      dataField="password"
      editorType="dxTextBox"
      [editorOptions]="{
        placeholder: 'Enter password'
      }">
      <dxi-validation-rule type="required" message="Password is required"></dxi-validation-rule>
      <dxi-validation-rule type="stringLength"
          [min]="6"
          message="Password must be at least 6 characters">
      </dxi-validation-rule>
    </dxi-item>

    <dxi-item
      dataField="address"
      editorType="dxTextArea"
      [editorOptions]="{
        placeholder: 'Enter address',
        height: 80
      }">
      <dxi-validation-rule type="required" message="Address is required"></dxi-validation-rule>
    </dxi-item>

    <dxi-item
      caption="Profile Image"
      itemType="simple"
      colSpan="3"
      label="{ text: 'Profile Image' }">

      <dx-file-uploader
        accept="image/*"
        [multiple]="false"
        uploadMode="useForm"
        (onValueChanged)="onImageSelected($event)">
      </dx-file-uploader>

      <div class="dx-invalid-message" *ngIf="profileImageError">
        {{ profileImageErrorMessage }}
      </div>
    </dxi-item>

    <dxi-item
      dataField="country"
      editorType="dxTextBox"
      [editorOptions]="{ placeholder: 'Enter country' }">
      <dxi-validation-rule type="required" message="Country is required"></dxi-validation-rule>
    </dxi-item>

    <dxi-item
      dataField="state"
      editorType="dxTextBox"
      [editorOptions]="{ placeholder: 'Enter state' }">
      <dxi-validation-rule type="required" message="State is required"></dxi-validation-rule>
    </dxi-item>

    <dxi-item
      dataField="pincode"
      editorType="dxTextBox"
      [editorOptions]="{
        mode: 'number',
        placeholder: 'Enter pincode'
      }">
      <dxi-validation-rule type="required" message="Pincode is required"></dxi-validation-rule>
      <dxi-validation-rule
        type="pattern"
        pattern="^\d{6}$"
        message="Pincode must be 6 digits">
      </dxi-validation-rule>
    </dxi-item>

  </dx-form>

  <div class="form-actions">

    <dx-button
      text="{{ isEditMode ? 'Update' : 'Save' }}"
      type="success"
      width="120"
      (onClick)="onSubmit()">
    </dx-button>

    <dx-button
      *ngIf="isEditMode"
      text="Delete"
      type="danger"
      width="120"
      (onClick)="deleteUser()"
      class="delete-btn">
    </dx-button>

  </div>
</div>